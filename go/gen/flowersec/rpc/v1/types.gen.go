// Code generated by idlgen. DO NOT EDIT.

package v1

import "encoding/json"

// Envelope for RPC requests and responses.
type RpcEnvelope struct {
	// Type identifier for routing.
	TypeId uint32 `json:"type_id"`
	// Client-assigned request identifier.
	RequestId uint64 `json:"request_id"`
	// Request identifier being responded to.
	ResponseTo uint64 `json:"response_to"`
	// Request or response payload as JSON.
	Payload json.RawMessage `json:"payload"`
	// Error payload for failed requests.
	Error *RpcError `json:"error,omitempty"`
}

// RPC error payload.
type RpcError struct {
	// Application or transport error code.
	Code uint32 `json:"code"`
	// Optional human-readable error message.
	Message *string `json:"message,omitempty"`
}

// Initial greeting sent on a new stream.
type StreamHello struct {
	// Stream kind label (e.g. "rpc").
	Kind string `json:"kind"`
	// Stream protocol version.
	V uint32 `json:"v"`
}

type JSON = json.RawMessage
