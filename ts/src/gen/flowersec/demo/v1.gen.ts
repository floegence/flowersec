// Code generated by idlgen. DO NOT EDIT.

/** Demo hello notification. */
export interface HelloNotify {
  /** Hello message. */
  hello: string;
}

/** Demo ping request. */
export interface PingRequest {
}

/** Demo ping response. */
export interface PingResponse {
  /** Whether the request succeeded. */
  ok: boolean;
}

function isRecord(v: unknown): v is Record<string, unknown> {
  return typeof v === "object" && v != null && !Array.isArray(v);
}

function assertString(name: string, v: unknown): string {
  if (typeof v !== "string") throw new Error(`bad ${name}`);
  return v;
}

function assertBoolean(name: string, v: unknown): boolean {
  if (typeof v !== "boolean") throw new Error(`bad ${name}`);
  return v;
}

function assertSafeInt(name: string, v: unknown): number {
  if (typeof v !== "number" || !Number.isSafeInteger(v)) throw new Error(`bad ${name}`);
  return v;
}

function assertU32(name: string, v: unknown): number {
  const n = assertSafeInt(name, v);
  if (n < 0 || n > 0xffffffff) throw new Error(`bad ${name}`);
  return n;
}

function assertU64(name: string, v: unknown): number {
  const n = assertSafeInt(name, v);
  if (n < 0) throw new Error(`bad ${name}`);
  return n;
}

function assertI32(name: string, v: unknown): number {
  const n = assertSafeInt(name, v);
  if (n < -2147483648 || n > 2147483647) throw new Error(`bad ${name}`);
  return n;
}

function assertI64(name: string, v: unknown): number {
  return assertSafeInt(name, v);
}

function assertStringMap(name: string, v: unknown): Record<string, string> {
  if (!isRecord(v)) throw new Error(`bad ${name}`);
  for (const [k, vv] of Object.entries(v)) {
    void k;
    if (typeof vv !== "string") throw new Error(`bad ${name}`);
  }
  return v as Record<string, string>;
}

export function assertHelloNotify(v: unknown): HelloNotify {
  if (!isRecord(v)) throw new Error("bad HelloNotify");
  const o = v as Record<string, unknown>;
  if (o["hello"] === undefined) throw new Error("bad HelloNotify.hello");
  assertString("HelloNotify.hello", o["hello"]);
  return o as unknown as HelloNotify;
}

export function assertPingRequest(v: unknown): PingRequest {
  if (!isRecord(v)) throw new Error("bad PingRequest");
  const o = v as Record<string, unknown>;
  return o as unknown as PingRequest;
}

export function assertPingResponse(v: unknown): PingResponse {
  if (!isRecord(v)) throw new Error("bad PingResponse");
  const o = v as Record<string, unknown>;
  if (o["ok"] === undefined) throw new Error("bad PingResponse.ok");
  assertBoolean("PingResponse.ok", o["ok"]);
  return o as unknown as PingResponse;
}

